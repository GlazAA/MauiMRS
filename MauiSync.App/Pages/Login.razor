@page "/"
@page "/login"
@inject NavigationManager NavigationManager
<!-- 0  -->



<h3>Вход в систему</h3>

<div class="auth-container">
    <div class="form-group">
        <label for="username">Логин:</label>
        <input id="username" @bind="username" @oninput="ClearError" class="form-control" />
    </div>
    <div class="form-group">
        <label for="password">Пароль:</label>
        <input id="password" type="password" @bind="password" @oninput="ClearError" class="form-control" />
    </div>
    
    @if (!string.IsNullOrEmpty(errorMessage))
    {
        <div class="alert alert-danger">@errorMessage</div>
    }
    
    <button @onclick="PerformLogin" class="btn btn-primary">Войти</button>
</div>

@code {
    private string username = "";
    private string password = "";
    private string errorMessage = "";
    
    private void ClearError()
    {
        errorMessage = "";
        StateHasChanged();
    }
    
    private async Task PerformLogin()
    {
        // ВРЕМЕННО: Всегда успешный вход для тестирования
        errorMessage = "";
        
        // Небольшая задержка для визуального feedback
        await Task.Delay(100);
        NavigationManager.NavigateTo("/main-menu", forceLoad: true);
    }
}